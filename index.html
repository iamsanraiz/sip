<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIP Calculator - Plan Your Wealth Journey</title>
    <style>
        :root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08); /* Light blue */
  --color-bg-2: rgba(245, 158, 11, 0.08); /* Light yellow */
  --color-bg-3: rgba(34, 197, 94, 0.08); /* Light green */
  --color-bg-4: rgba(239, 68, 68, 0.08); /* Light red */
  --color-bg-5: rgba(147, 51, 234, 0.08); /* Light purple */
  --color-bg-6: rgba(249, 115, 22, 0.08); /* Light orange */
  --color-bg-7: rgba(236, 72, 153, 0.08); /* Light pink */
  --color-bg-8: rgba(6, 182, 212, 0.08); /* Light cyan */

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Common style patterns */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for opacity control */
  --color-success-rgb: 33, 128, 141;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 168, 75, 47;
  --color-info-rgb: 98, 108, 113;

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;

  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

/* Dark mode colors */
@media (prefers-color-scheme: dark) {
  :root {
    /* RGB versions for opacity control (Dark Mode) */
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;

    /* Background color tokens (Dark Mode) */
    --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
    --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
    --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
    --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
    --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
    --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
    --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
    --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

    /* Semantic Color Tokens (Dark Mode) */
    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    --button-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

    /* Common style patterns - updated for dark mode */
    --focus-ring: 0 0 0 3px var(--color-focus-ring);
    --focus-outline: 2px solid var(--color-primary);
    --status-bg-opacity: 0.15;
    --status-border-opacity: 0.25;
    --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

    /* RGB versions for dark mode */
    --color-success-rgb: var(--color-teal-300-rgb);
    --color-error-rgb: var(--color-red-400-rgb);
    --color-warning-rgb: var(--color-orange-400-rgb);
    --color-info-rgb: var(--color-gray-300-rgb);
  }
}

/* Data attribute for manual theme switching */
[data-color-scheme="dark"] {
  /* RGB versions for opacity control (dark mode) */
  --color-gray-400-rgb: 119, 124, 124;
  --color-teal-300-rgb: 50, 184, 198;
  --color-gray-300-rgb: 167, 169, 169;
  --color-gray-200-rgb: 245, 245, 245;

  /* Colorful background palette - Dark Mode */
  --color-bg-1: rgba(29, 78, 216, 0.15); /* Dark blue */
  --color-bg-2: rgba(180, 83, 9, 0.15); /* Dark yellow */
  --color-bg-3: rgba(21, 128, 61, 0.15); /* Dark green */
  --color-bg-4: rgba(185, 28, 28, 0.15); /* Dark red */
  --color-bg-5: rgba(107, 33, 168, 0.15); /* Dark purple */
  --color-bg-6: rgba(194, 65, 12, 0.15); /* Dark orange */
  --color-bg-7: rgba(190, 24, 93, 0.15); /* Dark pink */
  --color-bg-8: rgba(8, 145, 178, 0.15); /* Dark cyan */

  /* Semantic Color Tokens (Dark Mode) */
  --color-background: var(--color-charcoal-700);
  --color-surface: var(--color-charcoal-800);
  --color-text: var(--color-gray-200);
  --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
  --color-primary: var(--color-teal-300);
  --color-primary-hover: var(--color-teal-400);
  --color-primary-active: var(--color-teal-800);
  --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
  --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
  --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
  --color-border: rgba(var(--color-gray-400-rgb), 0.3);
  --color-error: var(--color-red-400);
  --color-success: var(--color-teal-300);
  --color-warning: var(--color-orange-400);
  --color-info: var(--color-gray-300);
  --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
  --color-btn-primary-text: var(--color-slate-900);
  --color-card-border: rgba(var(--color-gray-400-rgb), 0.15);
  --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
  --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

  /* Common style patterns - updated for dark mode */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;
  --select-caret-light: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23134252' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  --select-caret-dark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23f5f5f5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");

  /* RGB versions for dark mode */
  --color-success-rgb: var(--color-teal-300-rgb);
  --color-error-rgb: var(--color-red-400-rgb);
  --color-warning-rgb: var(--color-orange-400-rgb);
  --color-info-rgb: var(--color-gray-300-rgb);
}

[data-color-scheme="light"] {
  /* RGB versions for opacity control (light mode) */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);

  /* RGB versions for light mode */
  --color-success-rgb: var(--color-teal-500-rgb);
  --color-error-rgb: var(--color-red-500-rgb);
  --color-warning-rgb: var(--color-orange-500-rgb);
  --color-info-rgb: var(--color-slate-500-rgb);
}

/* Base styles */
html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

/* Typography */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-tight);
  color: var(--color-text);
  letter-spacing: var(--letter-spacing-tight);
}

h1 {
  font-size: var(--font-size-4xl);
}
h2 {
  font-size: var(--font-size-3xl);
}
h3 {
  font-size: var(--font-size-2xl);
}
h4 {
  font-size: var(--font-size-xl);
}
h5 {
  font-size: var(--font-size-lg);
}
h6 {
  font-size: var(--font-size-md);
}

p {
  margin: 0 0 var(--space-16) 0;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color var(--duration-fast) var(--ease-standard);
}

a:hover {
  color: var(--color-primary-hover);
}

code,
pre {
  font-family: var(--font-family-mono);
  font-size: calc(var(--font-size-base) * 0.95);
  background-color: var(--color-secondary);
  border-radius: var(--radius-sm);
}

code {
  padding: var(--space-1) var(--space-4);
}

pre {
  padding: var(--space-16);
  margin: var(--space-16) 0;
  overflow: auto;
  border: 1px solid var(--color-border);
}

pre code {
  background: none;
  padding: 0;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-8) var(--space-16);
  border-radius: var(--radius-base);
  font-size: var(--font-size-base);
  font-weight: 500;
  line-height: 1.5;
  cursor: pointer;
  transition: all var(--duration-normal) var(--ease-standard);
  border: none;
  text-decoration: none;
  position: relative;
}

.btn:focus-visible {
  outline: none;
  box-shadow: var(--focus-ring);
}

.btn--primary {
  background: var(--color-primary);
  color: var(--color-btn-primary-text);
}

.btn--primary:hover {
  background: var(--color-primary-hover);
}

.btn--primary:active {
  background: var(--color-primary-active);
}

.btn--secondary {
  background: var(--color-secondary);
  color: var(--color-text);
}

.btn--secondary:hover {
  background: var(--color-secondary-hover);
}

.btn--secondary:active {
  background: var(--color-secondary-active);
}

.btn--outline {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text);
}

.btn--outline:hover {
  background: var(--color-secondary);
}

.btn--sm {
  padding: var(--space-4) var(--space-12);
  font-size: var(--font-size-sm);
  border-radius: var(--radius-sm);
}

.btn--lg {
  padding: var(--space-10) var(--space-20);
  font-size: var(--font-size-lg);
  border-radius: var(--radius-md);
}

.btn--full-width {
  width: 100%;
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Form elements */
.form-control {
  display: block;
  width: 100%;
  padding: var(--space-8) var(--space-12);
  font-size: var(--font-size-md);
  line-height: 1.5;
  color: var(--color-text);
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  transition: border-color var(--duration-fast) var(--ease-standard),
    box-shadow var(--duration-fast) var(--ease-standard);
}

textarea.form-control {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
}

select.form-control {
  padding: var(--space-8) var(--space-12);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: var(--select-caret-light);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px;
  padding-right: var(--space-32);
}

/* Add a dark mode specific caret */
@media (prefers-color-scheme: dark) {
  select.form-control {
    background-image: var(--select-caret-dark);
  }
}

/* Also handle data-color-scheme */
[data-color-scheme="dark"] select.form-control {
  background-image: var(--select-caret-dark);
}

[data-color-scheme="light"] select.form-control {
  background-image: var(--select-caret-light);
}

.form-control:focus {
  border-color: var(--color-primary);
  outline: var(--focus-outline);
}

.form-label {
  display: block;
  margin-bottom: var(--space-8);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.form-group {
  margin-bottom: var(--space-16);
}

/* Card component */
.card {
  background-color: var(--color-surface);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-card-border);
  box-shadow: var(--shadow-sm);
  overflow: hidden;
  transition: box-shadow var(--duration-normal) var(--ease-standard);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

.card__body {
  padding: var(--space-16);
}

.card__header,
.card__footer {
  padding: var(--space-16);
  border-bottom: 1px solid var(--color-card-border-inner);
}

/* Status indicators - simplified with CSS variables */
.status {
  display: inline-flex;
  align-items: center;
  padding: var(--space-6) var(--space-12);
  border-radius: var(--radius-full);
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
}

.status--success {
  background-color: rgba(
    var(--color-success-rgb, 33, 128, 141),
    var(--status-bg-opacity)
  );
  color: var(--color-success);
  border: 1px solid
    rgba(var(--color-success-rgb, 33, 128, 141), var(--status-border-opacity));
}

.status--error {
  background-color: rgba(
    var(--color-error-rgb, 192, 21, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-error);
  border: 1px solid
    rgba(var(--color-error-rgb, 192, 21, 47), var(--status-border-opacity));
}

.status--warning {
  background-color: rgba(
    var(--color-warning-rgb, 168, 75, 47),
    var(--status-bg-opacity)
  );
  color: var(--color-warning);
  border: 1px solid
    rgba(var(--color-warning-rgb, 168, 75, 47), var(--status-border-opacity));
}

.status--info {
  background-color: rgba(
    var(--color-info-rgb, 98, 108, 113),
    var(--status-bg-opacity)
  );
  color: var(--color-info);
  border: 1px solid
    rgba(var(--color-info-rgb, 98, 108, 113), var(--status-border-opacity));
}

/* Container layout */
.container {
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  padding-right: var(--space-16);
  padding-left: var(--space-16);
}

@media (min-width: 640px) {
  .container {
    max-width: var(--container-sm);
  }
}
@media (min-width: 768px) {
  .container {
    max-width: var(--container-md);
  }
}
@media (min-width: 1024px) {
  .container {
    max-width: var(--container-lg);
  }
}
@media (min-width: 1280px) {
  .container {
    max-width: var(--container-xl);
  }
}

/* Utility classes */
.flex {
  display: flex;
}
.flex-col {
  flex-direction: column;
}
.items-center {
  align-items: center;
}
.justify-center {
  justify-content: center;
}
.justify-between {
  justify-content: space-between;
}
.gap-4 {
  gap: var(--space-4);
}
.gap-8 {
  gap: var(--space-8);
}
.gap-16 {
  gap: var(--space-16);
}

.m-0 {
  margin: 0;
}
.mt-8 {
  margin-top: var(--space-8);
}
.mb-8 {
  margin-bottom: var(--space-8);
}
.mx-8 {
  margin-left: var(--space-8);
  margin-right: var(--space-8);
}
.my-8 {
  margin-top: var(--space-8);
  margin-bottom: var(--space-8);
}

.p-0 {
  padding: 0;
}
.py-8 {
  padding-top: var(--space-8);
  padding-bottom: var(--space-8);
}
.px-8 {
  padding-left: var(--space-8);
  padding-right: var(--space-8);
}
.py-16 {
  padding-top: var(--space-16);
  padding-bottom: var(--space-16);
}
.px-16 {
  padding-left: var(--space-16);
  padding-right: var(--space-16);
}

.block {
  display: block;
}
.hidden {
  display: none;
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

:focus-visible {
  outline: var(--focus-outline);
  outline-offset: 2px;
}

/* Dark mode specifics */
[data-color-scheme="dark"] .btn--outline {
  border: 1px solid var(--color-border-secondary);
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}

/* END PERPLEXITY DESIGN SYSTEM */
/* SIP Calculator Specific Styles */

/* Header Section */
.header {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-teal-700) 100%);
  color: var(--color-white);
  padding: var(--space-32) 0;
  text-align: center;
}

.header__content {
  max-width: 800px;
  margin: 0 auto;
}

.header__title {
  font-size: var(--font-size-4xl);
  margin-bottom: var(--space-16);
  font-weight: var(--font-weight-bold);
}

.header__subtitle {
  font-size: var(--font-size-xl);
  opacity: 0.9;
  line-height: var(--line-height-normal);
  margin: 0;
}

/* Calculator Section */
.calculator-section {
  padding: var(--space-32) 0;
  background: var(--color-background);
}

.calculator {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-32);
  align-items: start;
}

.calculator__form h3 {
  margin-bottom: var(--space-24);
  color: var(--color-text);
}

/* Fix Select Dropdown Styling */
select.form-control {
  padding: var(--space-8) var(--space-12);
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background-image: var(--select-caret-light);
  background-repeat: no-repeat;
  background-position: right var(--space-12) center;
  background-size: 16px;
  padding-right: var(--space-32);
  cursor: pointer;
  position: relative;
  z-index: 1;
}

/* Ensure dropdown works in dark mode */
@media (prefers-color-scheme: dark) {
  select.form-control {
    background-image: var(--select-caret-dark);
  }
}

[data-color-scheme="dark"] select.form-control {
  background-image: var(--select-caret-dark);
}

[data-color-scheme="light"] select.form-control {
  background-image: var(--select-caret-light);
}

/* Input Wrapper for Currency Symbol */
.input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.currency-symbol {
  position: absolute;
  left: var(--space-12);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-medium);
  z-index: 2;
  pointer-events: none;
}

.amount-input {
  padding-left: var(--space-24) !important;
}

/* Enhanced Slider Styling */
.slider-wrapper {
  margin-top: var(--space-8);
}

.slider {
  width: 100%;
  height: 8px;
  border-radius: var(--radius-full);
  background: var(--color-secondary);
  outline: none;
  -webkit-appearance: none;
  appearance: none;
  margin-bottom: var(--space-8);
  cursor: pointer;
  transition: all var(--duration-fast) var(--ease-standard);
}

.slider:hover {
  opacity: 0.8;
}

.slider:focus {
  outline: none;
  box-shadow: var(--focus-ring);
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--color-primary);
  cursor: pointer;
  border: 3px solid var(--color-white);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: all var(--duration-fast) var(--ease-standard);
}

.slider::-webkit-slider-thumb:hover {
  transform: scale(1.1);
  background: var(--color-primary-hover);
}

.slider::-webkit-slider-thumb:active {
  transform: scale(1.2);
}

.slider::-moz-range-thumb {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--color-primary);
  cursor: pointer;
  border: 3px solid var(--color-white);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  transition: all var(--duration-fast) var(--ease-standard);
}

.slider::-moz-range-thumb:hover {
  transform: scale(1.1);
  background: var(--color-primary-hover);
}

.slider::-moz-range-thumb:active {
  transform: scale(1.2);
}

.slider::-moz-range-track {
  height: 8px;
  background: var(--color-secondary);
  border-radius: var(--radius-full);
  border: none;
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.return-display,
.tenure-display {
  color: var(--color-primary);
  font-weight: var(--font-weight-semibold);
}

/* Results Display */
.results-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-16);
  margin-bottom: var(--space-32);
}

.metric-card {
  background: var(--color-surface);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-20);
  text-align: center;
  box-shadow: var(--shadow-sm);
  transition: all var(--duration-normal) var(--ease-standard);
}

.metric-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.metric-card.total-value {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-teal-600) 100%);
  color: var(--color-white);
}

.metric-card.total-value .metric-card__header h4 {
  color: var(--color-white);
}

.metric-card__header h4 {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-8);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.metric-card__value {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  color: var(--color-text);
}

.metric-card__value.success {
  color: var(--color-success);
}

/* Charts Section */
.charts-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-24);
  margin-top: var(--space-24);
}

.chart-container {
  background: var(--color-surface);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-16);
  box-shadow: var(--shadow-sm);
}

/* Education Section */
.education-section {
  background: var(--color-surface);
  padding: var(--space-32) 0;
}

.education-block {
  margin-bottom: var(--space-32);
}

.education-block h2 {
  text-align: center;
  margin-bottom: var(--space-32);
  color: var(--color-text);
}

/* Steps Grid */
.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--space-20);
}

.step-card {
  background: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-20);
  text-align: center;
  position: relative;
  transition: all var(--duration-normal) var(--ease-standard);
}

.step-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-4px);
}

.step-number {
  background: var(--color-primary);
  color: var(--color-white);
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: var(--font-weight-bold);
  margin: 0 auto var(--space-16) auto;
}

.step-card h4 {
  margin-bottom: var(--space-8);
  color: var(--color-text);
}

.step-card p {
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
  margin: 0;
}

/* Benefits Grid */
.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: var(--space-20);
}

.benefit-card {
  background: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-24);
  transition: all var(--duration-normal) var(--ease-standard);
}

.benefit-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-primary);
}

.benefit-card h4 {
  color: var(--color-primary);
  margin-bottom: var(--space-12);
}

.benefit-card p {
  color: var(--color-text-secondary);
  margin: 0;
  line-height: var(--line-height-normal);
}

/* Funds Grid */
.funds-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-20);
}

.fund-card {
  background: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-24);
  transition: all var(--duration-normal) var(--ease-standard);
}

.fund-card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.fund-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-16);
}

.fund-header h4 {
  color: var(--color-text);
  margin: 0;
}

.risk-badge {
  padding: var(--space-4) var(--space-8);
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  text-transform: uppercase;
}

.risk-badge.high-risk {
  background: rgba(var(--color-error-rgb), 0.1);
  color: var(--color-error);
}

.risk-badge.moderate-risk {
  background: rgba(var(--color-warning-rgb), 0.1);
  color: var(--color-warning);
}

.risk-badge.low-risk {
  background: rgba(var(--color-success-rgb), 0.1);
  color: var(--color-success);
}

.fund-details {
  margin-bottom: var(--space-12);
}

.fund-return {
  font-weight: var(--font-weight-semibold);
  color: var(--color-success);
  margin-bottom: var(--space-4);
}

.fund-horizon {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--space-12);
}

.fund-card p {
  color: var(--color-text-secondary);
  margin: 0;
  line-height: var(--line-height-normal);
}

/* Tax Content */
.tax-content {
  display: grid;
  gap: var(--space-24);
}

.tax-section {
  background: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-24);
}

.tax-section h4 {
  color: var(--color-primary);
  margin-bottom: var(--space-16);
}

.tax-card {
  background: var(--color-bg-3);
  border: 1px solid rgba(var(--color-success-rgb), 0.2);
  border-radius: var(--radius-base);
  padding: var(--space-16);
}

.tax-card p {
  margin-bottom: var(--space-8);
}

.tax-card p:last-child {
  margin-bottom: 0;
}

.tax-table {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-base);
  overflow: hidden;
}

.tax-row {
  display: grid;
  grid-template-columns: 2fr 1fr;
  padding: var(--space-12) var(--space-16);
  border-bottom: 1px solid var(--color-border);
}

.tax-row:last-child {
  border-bottom: none;
}

.tax-type {
  font-weight: var(--font-weight-medium);
}

.tax-rate {
  text-align: right;
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary);
}

.tax-tips {
  list-style: none;
  padding: 0;
  margin: 0;
}

.tax-tips li {
  padding: var(--space-8) 0;
  border-bottom: 1px solid var(--color-border);
  position: relative;
  padding-left: var(--space-20);
}

.tax-tips li:before {
  content: "•";
  color: var(--color-primary);
  font-weight: var(--font-weight-bold);
  position: absolute;
  left: 0;
}

.tax-tips li:last-child {
  border-bottom: none;
}

/* Getting Started */
.getting-started {
  background: var(--color-background);
  border: 1px solid var(--color-card-border);
  border-radius: var(--radius-lg);
  padding: var(--space-32);
}

.start-steps {
  display: grid;
  gap: var(--space-24);
}

.start-step {
  padding: var(--space-20);
  border-left: 4px solid var(--color-primary);
  background: var(--color-bg-1);
  border-radius: 0 var(--radius-base) var(--radius-base) 0;
}

.start-step h4 {
  color: var(--color-primary);
  margin-bottom: var(--space-8);
}

.start-step p {
  margin: 0;
  color: var(--color-text-secondary);
}

/* Footer */
.footer {
  background: var(--color-surface);
  border-top: 1px solid var(--color-border);
  padding: var(--space-24) 0;
  text-align: center;
}

.footer p {
  margin: 0;
  color: var(--color-text-secondary);
  font-size: var(--font-size-sm);
}

/* Disclaimer */
.disclaimer {
  margin-top: var(--space-20);
  padding: var(--space-12);
  background: var(--color-bg-2);
  border-radius: var(--radius-base);
  border-left: 4px solid var(--color-warning);
}

.disclaimer p {
  margin: 0;
  color: var(--color-text-secondary);
}

/* Responsive Design */
@media (max-width: 768px) {
  .calculator {
    grid-template-columns: 1fr;
    gap: var(--space-24);
  }

  .charts-section {
    grid-template-columns: 1fr;
    gap: var(--space-16);
  }

  .results-grid {
    grid-template-columns: 1fr;
  }

  .steps-grid {
    grid-template-columns: 1fr;
  }

  .benefits-grid {
    grid-template-columns: 1fr;
  }

  .funds-grid {
    grid-template-columns: 1fr;
  }

  .header__title {
    font-size: var(--font-size-3xl);
  }

  .header__subtitle {
    font-size: var(--font-size-lg);
  }

  .metric-card__value {
    font-size: var(--font-size-2xl);
  }

  .slider {
    height: 10px;
  }

  .slider::-webkit-slider-thumb {
    width: 28px;
    height: 28px;
  }

  .slider::-moz-range-thumb {
    width: 28px;
    height: 28px;
  }
}

@media (max-width: 480px) {
  .header {
    padding: var(--space-24) 0;
  }

  .calculator-section {
    padding: var(--space-24) 0;
  }

  .education-section {
    padding: var(--space-24) 0;
  }

  .card__body {
    padding: var(--space-16);
  }

  .metric-card {
    padding: var(--space-16);
  }

  .step-card,
  .benefit-card,
  .fund-card {
    padding: var(--space-16);
  }

  .tax-section {
    padding: var(--space-16);
  }

  .getting-started {
    padding: var(--space-20);
  }
}

/* Loading State */
.loading {
  opacity: 0.6;
  pointer-events: none;
}

/* Animation for smooth transitions */
.metric-card__value,
.return-display,
.tenure-display {
  transition: all var(--duration-normal) var(--ease-standard);
}

/* Enhanced Focus states for accessibility */
.form-control:focus {
  border-color: var(--color-primary);
  outline: none;
  box-shadow: var(--focus-ring);
}

.slider:focus {
  outline: none;
  box-shadow: var(--focus-ring);
}

/* Ensure select dropdown is interactive */
select.form-control {
  background-color: var(--color-surface);
  border: 1px solid var(--color-border);
}

select.form-control:hover {
  border-color: var(--color-primary);
}

select.form-control:focus {
  border-color: var(--color-primary);
  box-shadow: var(--focus-ring);
}

/* Print styles */
@media print {
  .education-section {
    display: none;
  }

  .calculator {
    grid-template-columns: 1fr;
  }

  .charts-section {
    grid-template-columns: 1fr;
  }
}
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <div class="container">
            <div class="header__content">
                <h1 class="header__title">SIP Calculator - Plan Your Wealth Journey</h1>
                <p class="header__subtitle">Build wealth systematically through disciplined investing with the power of compounding</p>
            </div>
        </div>
    </header>

    <!-- Main Calculator -->
    <section class="calculator-section">
        <div class="container">
            <div class="calculator">
                <!-- Calculator Form -->
                <div class="calculator__form">
                    <div class="card">
                        <div class="card__body">
                            <h3>Investment Details</h3>
                            
                            <div class="form-group">
                                <label class="form-label" for="frequency">Investment Frequency *</label>
                                <select id="frequency" class="form-control" required>
                                    <option value="monthly">Monthly</option>
                                    <option value="yearly">Yearly</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="amount">
                                    <span id="amount-label">Monthly Investment Amount *</span>
                                </label>
                                <div class="input-wrapper">
                                    <span class="currency-symbol">₹</span>
                                    <input type="number" id="amount" class="form-control amount-input" 
                                           placeholder="e.g., 5000" min="500" max="1000000" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="return-rate">Expected Annual Return * 
                                    <span class="return-display">12%</span>
                                </label>
                                <div class="slider-wrapper">
                                    <input type="range" id="return-rate" class="slider" 
                                           min="2" max="20" value="12" step="0.5">
                                    <div class="slider-labels">
                                        <span>2%</span>
                                        <span>20%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label" for="tenure">Investment Tenure * 
                                    <span class="tenure-display">10 years</span>
                                </label>
                                <div class="slider-wrapper">
                                    <input type="range" id="tenure" class="slider" 
                                           min="1" max="50" value="10" step="1">
                                    <div class="slider-labels">
                                        <span>1 year</span>
                                        <span>50 years</span>
                                    </div>
                                </div>
                            </div>

                            <div class="disclaimer">
                                <p><small>* All fields are required. Results are estimates based on assumptions.</small></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results Display -->
                <div class="calculator__results">
                    <div class="results-grid">
                        <div class="metric-card">
                            <div class="metric-card__header">
                                <h4>Total Investment</h4>
                            </div>
                            <div class="metric-card__value" id="total-investment">₹0</div>
                        </div>

                        <div class="metric-card">
                            <div class="metric-card__header">
                                <h4>Estimated Returns</h4>
                            </div>
                            <div class="metric-card__value success" id="estimated-returns">₹0</div>
                        </div>

                        <div class="metric-card total-value">
                            <div class="metric-card__header">
                                <h4>Final Maturity Value</h4>
                            </div>
                            <div class="metric-card__value" id="final-value">₹0</div>
                        </div>
                    </div>

                    <div class="charts-section">
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="allocation-chart"></canvas>
                        </div>
                        <div class="chart-container" style="position: relative; height: 300px;">
                            <canvas id="growth-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Educational Content -->
    <section class="education-section">
        <div class="container">
            <!-- How SIP Works -->
            <div class="education-block">
                <h2>How SIP Works</h2>
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h4>Choose Fund</h4>
                        <p>Select mutual fund scheme based on your goals and risk tolerance</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h4>Set Amount</h4>
                        <p>Decide fixed investment amount and frequency (monthly/yearly)</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h4>Auto-debit</h4>
                        <p>Set up automatic deduction from bank account via NACH</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">4</div>
                        <h4>Units Allocation</h4>
                        <p>Get units allocated at prevailing NAV for each installment</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">5</div>
                        <h4>Monitor</h4>
                        <p>Review performance regularly and adjust if needed</p>
                    </div>
                </div>
            </div>

            <!-- SIP Benefits -->
            <div class="education-block">
                <h2>Key Benefits of SIP</h2>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <h4>Rupee Cost Averaging</h4>
                        <p>Buy more units when prices are low, fewer when high. This averaging reduces impact of market volatility.</p>
                    </div>
                    <div class="benefit-card">
                        <h4>Power of Compounding</h4>
                        <p>Your returns earn returns over time. The longer you stay invested, the more powerful compounding becomes.</p>
                    </div>
                    <div class="benefit-card">
                        <h4>Financial Discipline</h4>
                        <p>Regular investing builds wealth systematically and develops good financial habits.</p>
                    </div>
                    <div class="benefit-card">
                        <h4>Flexibility</h4>
                        <p>Start with just ₹500, increase amount anytime, or pause when needed.</p>
                    </div>
                    <div class="benefit-card">
                        <h4>Liquidity</h4>
                        <p>Withdraw funds anytime (except ELSS lock-in period of 3 years).</p>
                    </div>
                </div>
            </div>

            <!-- Types of SIP Funds -->
            <div class="education-block">
                <h2>Types of SIP Funds</h2>
                <div class="funds-grid">
                    <div class="fund-card">
                        <div class="fund-header">
                            <h4>Equity Funds</h4>
                            <span class="risk-badge high-risk">High Risk</span>
                        </div>
                        <div class="fund-details">
                            <div class="fund-return">12-15% Expected Return</div>
                            <div class="fund-horizon">5+ years horizon</div>
                            <p>Invest primarily in stocks, suitable for long-term wealth creation</p>
                        </div>
                    </div>
                    <div class="fund-card">
                        <div class="fund-header">
                            <h4>Debt Funds</h4>
                            <span class="risk-badge low-risk">Low Risk</span>
                        </div>
                        <div class="fund-details">
                            <div class="fund-return">6-8% Expected Return</div>
                            <div class="fund-horizon">1-3 years horizon</div>
                            <p>Invest in bonds and fixed income securities, lower volatility</p>
                        </div>
                    </div>
                    <div class="fund-card">
                        <div class="fund-header">
                            <h4>Hybrid Funds</h4>
                            <span class="risk-badge moderate-risk">Moderate Risk</span>
                        </div>
                        <div class="fund-details">
                            <div class="fund-return">8-12% Expected Return</div>
                            <div class="fund-horizon">3-5 years horizon</div>
                            <p>Mix of equity and debt, balanced approach</p>
                        </div>
                    </div>
                    <div class="fund-card">
                        <div class="fund-header">
                            <h4>ELSS Funds</h4>
                            <span class="risk-badge high-risk">High Risk</span>
                        </div>
                        <div class="fund-details">
                            <div class="fund-return">12-15% Expected Return</div>
                            <div class="fund-horizon">3+ years horizon</div>
                            <p>Tax-saving equity funds with 3-year lock-in period</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tax Implications -->
            <div class="education-block">
                <h2>Tax Implications & Benefits</h2>
                <div class="tax-content">
                    <div class="tax-section">
                        <h4>Section 80C Benefits</h4>
                        <div class="tax-card">
                            <p>ELSS funds qualify for tax deduction up to <strong>₹1.5 lakh</strong> under Section 80C</p>
                            <p><strong>Lock-in Period:</strong> 3 years (shortest among all 80C investments)</p>
                        </div>
                    </div>
                    
                    <div class="tax-section">
                        <h4>Capital Gains Tax</h4>
                        <div class="tax-table">
                            <div class="tax-row">
                                <div class="tax-type">Short-term (≤12 months)</div>
                                <div class="tax-rate">20%</div>
                            </div>
                            <div class="tax-row">
                                <div class="tax-type">Long-term (>12 months)</div>
                                <div class="tax-rate">12.5% (above ₹1.25 lakh)</div>
                            </div>
                        </div>
                    </div>

                    <div class="tax-section">
                        <h4>Tax-efficient Planning Tips</h4>
                        <ul class="tax-tips">
                            <li>SIP units are treated separately for tax calculation (FIFO basis)</li>
                            <li>Regular equity funds: No tax benefits but favorable LTCG treatment</li>
                            <li>Debt funds: Gains taxed as per income tax slab</li>
                            <li>Consider ELSS for tax saving along with wealth creation</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Getting Started -->
            <div class="education-block">
                <h2>Getting Started with SIP</h2>
                <div class="getting-started">
                    <div class="start-steps">
                        <div class="start-step">
                            <h4>1. Complete KYC</h4>
                            <p>Finish your Know Your Customer process with any AMC or distributor</p>
                        </div>
                        <div class="start-step">
                            <h4>2. Choose Right Fund</h4>
                            <p>Select fund based on your risk profile, goals, and investment horizon</p>
                        </div>
                        <div class="start-step">
                            <h4>3. Set Up Auto-debit</h4>
                            <p>Link bank account and set up NACH for automatic monthly deductions</p>
                        </div>
                        <div class="start-step">
                            <h4>4. Start Small</h4>
                            <p>Begin with amount you're comfortable with - even ₹500 per month works</p>
                        </div>
                        <div class="start-step">
                            <h4>5. Monitor Regularly</h4>
                            <p>Review portfolio performance quarterly and rebalance if needed</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script>
        // SIP Calculator JavaScript

class SIPCalculator {
    constructor() {
        this.frequency = 'monthly';
        this.amount = 5000;
        this.returnRate = 12;
        this.tenure = 10;

        this.allocationChart = null;
        this.growthChart = null;

        this.init();
    }

    init() {
        this.bindEvents();
        this.initializeCharts();
        this.calculate();
    }

    bindEvents() {
        // Frequency change
        const frequencySelect = document.getElementById('frequency');
        frequencySelect.addEventListener('change', (e) => {
            this.frequency = e.target.value;
            this.updateAmountLabel();
            this.updateDefaultAmount();
            this.calculate();
        });

        // Amount input
        const amountInput = document.getElementById('amount');
        amountInput.addEventListener('input', (e) => {
            this.amount = parseFloat(e.target.value) || 0;
            this.calculate();
        });

        // Return rate slider
        const returnSlider = document.getElementById('return-rate');
        returnSlider.addEventListener('input', (e) => {
            this.returnRate = parseFloat(e.target.value);
            document.querySelector('.return-display').textContent = `${this.returnRate}%`;
            this.calculate();
        });

        // Tenure slider
        const tenureSlider = document.getElementById('tenure');
        tenureSlider.addEventListener('input', (e) => {
            this.tenure = parseInt(e.target.value);
            const years = this.tenure === 1 ? '1 year' : `${this.tenure} years`;
            document.querySelector('.tenure-display').textContent = years;
            this.calculate();
        });

        // Form validation
        amountInput.addEventListener('blur', (e) => this.validateAmount(e));

        // Ensure sliders work on all events
        returnSlider.addEventListener('change', (e) => {
            this.returnRate = parseFloat(e.target.value);
            document.querySelector('.return-display').textContent = `${this.returnRate}%`;
            this.calculate();
        });

        tenureSlider.addEventListener('change', (e) => {
            this.tenure = parseInt(e.target.value);
            const years = this.tenure === 1 ? '1 year' : `${this.tenure} years`;
            document.querySelector('.tenure-display').textContent = years;
            this.calculate();
        });
    }

    updateAmountLabel() {
        const label = this.frequency === 'monthly' ? 'Monthly Investment Amount *' : 'Yearly Investment Amount *';
        document.getElementById('amount-label').textContent = label;
    }

    updateDefaultAmount() {
        const defaultAmount = this.frequency === 'monthly' ? 5000 : 60000;
        const amountInput = document.getElementById('amount');
        const currentAmount = parseFloat(amountInput.value) || 0;

        // Only update if current amount matches the other frequency default
        if (currentAmount === (this.frequency === 'monthly' ? 60000 : 5000) || currentAmount === 0) {
            amountInput.value = defaultAmount;
            this.amount = defaultAmount;
        }
    }

    validateAmount(e) {
        const value = parseFloat(e.target.value);
        const minAmount = 500;
        const maxAmount = 1000000;

        if (value < minAmount) {
            e.target.value = minAmount;
            this.amount = minAmount;
            this.calculate();
        } else if (value > maxAmount) {
            e.target.value = maxAmount;
            this.amount = maxAmount;
            this.calculate();
        }
    }

    calculate() {
        if (this.amount <= 0) {
            this.updateUI({
                totalInvestment: 0,
                estimatedReturns: 0,
                futureValue: 0,
                yearlyData: []
            });
            return;
        }

        const results = this.calculateSIP();
        this.updateUI(results);
        this.updateCharts(results);
    }

    calculateSIP() {
        // Convert annual rate to monthly/yearly rate
        const periodicRate = this.frequency === 'monthly'
            ? (this.returnRate / 100) / 12
            : (this.returnRate / 100);

        // Calculate number of periods
        const periods = this.frequency === 'monthly'
            ? this.tenure * 12
            : this.tenure;

        // SIP Formula: A = P × ({([1 + r]^n) – 1} / r) × (1 + r)
        let futureValue;
        if (periodicRate === 0) {
            // If no returns expected
            futureValue = this.amount * periods;
        } else {
            futureValue = this.amount *
                (((Math.pow(1 + periodicRate, periods) - 1) / periodicRate) * (1 + periodicRate));
        }

        const totalInvestment = this.amount * periods;
        const estimatedReturns = futureValue - totalInvestment;

        // Generate yearly breakdown for growth chart
        const yearlyData = this.generateYearlyData(periodicRate, periods);

        return {
            totalInvestment,
            estimatedReturns,
            futureValue,
            yearlyData
        };
    }

    generateYearlyData(periodicRate, totalPeriods) {
        const data = [];
        const yearsToShow = Math.min(this.tenure, 20); // Show max 20 years on chart

        for (let year = 1; year <= yearsToShow; year++) {
            const periods = this.frequency === 'monthly' ? year * 12 : year;
            const investment = this.amount * periods;

            let value;
            if (periodicRate === 0) {
                value = investment;
            } else {
                value = this.amount *
                    (((Math.pow(1 + periodicRate, periods) - 1) / periodicRate) * (1 + periodicRate));
            }

            data.push({
                year,
                investment: Math.round(investment),
                value: Math.round(value)
            });
        }

        return data;
    }

    updateUI(results) {
        // Update metric cards
        document.getElementById('total-investment').textContent = this.formatCurrency(results.totalInvestment);
        document.getElementById('estimated-returns').textContent = this.formatCurrency(results.estimatedReturns);
        document.getElementById('final-value').textContent = this.formatCurrency(results.futureValue);
    }

    formatCurrency(amount) {
        // Fix the calculation error - ensure proper unit conversion
        const absAmount = Math.abs(amount);

        if (absAmount >= 10000000) { // 1 crore = 10,000,000
            return `₹${(amount / 10000000).toFixed(2)} Cr`;
        } else if (absAmount >= 100000) { // 1 lakh = 100,000
            return `₹${(amount / 100000).toFixed(2)} L`;
        } else if (absAmount >= 1000) { // 1 thousand
            return `₹${(amount / 1000).toFixed(1)} K`;
        } else {
            return `₹${Math.round(amount).toLocaleString('en-IN')}`;
        }
    }

    initializeCharts() {
        // Allocation Chart (Pie Chart)
        const allocationCtx = document.getElementById('allocation-chart').getContext('2d');
        this.allocationChart = new Chart(allocationCtx, {
            type: 'doughnut',
            data: {
                labels: ['Total Investment', 'Estimated Returns'],
                datasets: [{
                    data: [1, 1],
                    backgroundColor: ['#1FB8CD', '#FFC185'],
                    borderWidth: 0,
                    cutout: '60%'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true,
                            font: {
                                size: 12
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: 'Investment Allocation',
                        font: {
                            size: 16,
                            weight: 'bold'
                        },
                        padding: 20
                    }
                }
            }
        });

        // Growth Chart (Line Chart)
        const growthCtx = document.getElementById('growth-chart').getContext('2d');
        this.growthChart = new Chart(growthCtx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    {
                        label: 'Total Investment',
                        data: [],
                        borderColor: '#1FB8CD',
                        backgroundColor: 'rgba(31, 184, 205, 0.1)',
                        fill: false,
                        tension: 0.4
                    },
                    {
                        label: 'Portfolio Value',
                        data: [],
                        borderColor: '#FFC185',
                        backgroundColor: 'rgba(255, 193, 133, 0.1)',
                        fill: false,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            usePointStyle: true,
                            font: {
                                size: 12
                            }
                        }
                    },
                    title: {
                        display: true,
                        text: 'Growth Over Time',
                        font: {
                            size: 16,
                            weight: 'bold'
                        },
                        padding: 20
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                if (value >= 10000000) {
                                    return '₹' + (value / 10000000).toFixed(1) + 'Cr';
                                } else if (value >= 100000) {
                                    return '₹' + (value / 100000).toFixed(1) + 'L';
                                } else if (value >= 1000) {
                                    return '₹' + (value / 1000).toFixed(1) + 'K';
                                }
                                return '₹' + value.toLocaleString('en-IN');
                            }
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Years'
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            }
        });
    }

    updateCharts(results) {
        // Update allocation chart
        const investmentData = Math.max(results.totalInvestment, 1);
        const returnsData = Math.max(results.estimatedReturns, 0);

        this.allocationChart.data.datasets[0].data = [investmentData, returnsData];
        this.allocationChart.update('none');

        // Update growth chart
        const labels = results.yearlyData.map(item => `Year ${item.year}`);
        const investmentData2 = results.yearlyData.map(item => item.investment);
        const valueData = results.yearlyData.map(item => item.value);

        this.growthChart.data.labels = labels;
        this.growthChart.data.datasets[0].data = investmentData2;
        this.growthChart.data.datasets[1].data = valueData;
        this.growthChart.update('none');
    }

    // Public method to get current calculation
    getCurrentResults() {
        return this.calculateSIP();
    }
}

// Additional utility functions
function smoothScrollTo(element) {
    element.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
    });
}

// Add tooltips for better UX
function addTooltips() {
    const tooltips = [
        {
            element: '#return-rate',
            text: 'Historical average returns: Equity funds 12-15%, Debt funds 6-8%'
        },
        {
            element: '#tenure',
            text: 'Longer tenure allows more time for compounding to work'
        },
        {
            element: '#amount',
            text: 'Start with any amount comfortable for you, can be increased later'
        }
    ];

    tooltips.forEach(tooltip => {
        const element = document.querySelector(tooltip.element);
        if (element) {
            element.title = tooltip.text;
        }
    });
}

// Format numbers for better readability
function formatNumber(num) {
    return new Intl.NumberFormat('en-IN').format(Math.round(num));
}

// Validate form inputs
function validateInputs() {
    const amountInput = document.getElementById('amount');
    const amount = parseFloat(amountInput.value);

    if (amount < 500) {
        amountInput.setCustomValidity('Minimum investment amount is ₹500');
        return false;
    } else if (amount > 1000000) {
        amountInput.setCustomValidity('Maximum investment amount is ₹10,00,000');
        return false;
    } else {
        amountInput.setCustomValidity('');
        return true;
    }
}

// Add loading states for better UX
function showLoading(element) {
    element.classList.add('loading');
}

function hideLoading(element) {
    element.classList.remove('loading');
}

// Initialize calculator when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Initialize the SIP calculator
    window.sipCalculator = new SIPCalculator();

    // Add tooltips
    addTooltips();

    // Set initial values explicitly
    document.getElementById('frequency').value = 'monthly';
    document.getElementById('amount').value = 5000;
    document.getElementById('return-rate').value = 12;
    document.getElementById('tenure').value = 10;

    // Update displays
    document.querySelector('.return-display').textContent = '12%';
    document.querySelector('.tenure-display').textContent = '10 years';

    // Add smooth scrolling for navigation
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                smoothScrollTo(target);
            }
        });
    });

    // Add keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        // Press 'C' to focus on calculator
        if (e.key === 'c' || e.key === 'C') {
            if (!e.target.matches('input, textarea, select')) {
                e.preventDefault();
                document.getElementById('amount').focus();
            }
        }
    });

    // Add print functionality
    function printResults() {
        const results = window.sipCalculator.getCurrentResults();
        const printContent = `
            <h2>SIP Investment Summary</h2>
            <div style="margin: 20px 0;">
                <p><strong>Investment Frequency:</strong> ${window.sipCalculator.frequency}</p>
                <p><strong>Investment Amount:</strong> ₹${formatNumber(window.sipCalculator.amount)}</p>
                <p><strong>Expected Return:</strong> ${window.sipCalculator.returnRate}% per annum</p>
                <p><strong>Investment Tenure:</strong> ${window.sipCalculator.tenure} years</p>
            </div>
            <hr>
            <div style="margin: 20px 0;">
                <p><strong>Total Investment:</strong> ${window.sipCalculator.formatCurrency(results.totalInvestment)}</p>
                <p><strong>Estimated Returns:</strong> ${window.sipCalculator.formatCurrency(results.estimatedReturns)}</p>
                <p><strong>Final Maturity Value:</strong> ${window.sipCalculator.formatCurrency(results.futureValue)}</p>
            </div>
            <p style="font-size: 12px; color: #666; margin-top: 30px;">
                Disclaimer: These calculations are for illustration purposes only.
                Actual returns may vary based on market conditions.
            </p>
        `;

        const printWindow = window.open('', '_blank');
        printWindow.document.write(`
            <html>
                <head>
                    <title>SIP Calculation Results</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; }
                        h2 { color: #21828D; }
                        p { margin: 8px 0; }
                        hr { margin: 20px 0; border: 1px solid #ddd; }
                    </style>
                </head>
                <body>${printContent}</body>
            </html>
        `);
        printWindow.document.close();
        printWindow.print();
    }

    // Add print button functionality if needed
    const printButton = document.querySelector('.print-results');
    if (printButton) {
        printButton.addEventListener('click', printResults);
    }

    console.log('SIP Calculator initialized successfully');
});
    </script>
</body>
</html>
